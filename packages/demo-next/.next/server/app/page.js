(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d}),n(9249),n(5661),n(4906);var l=n(8750),r=n(2742),i=n(6862),o=n.n(i),s=n(3922),a={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>s[e]);n.d(t,a);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,9249)),"/Users/apple/Developer/smart-rte/packages/demo-next/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,5661)),"/Users/apple/Developer/smart-rte/packages/demo-next/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,4906,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/apple/Developer/smart-rte/packages/demo-next/src/app/page.tsx"],p="/page",u={require:n,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},350:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,9743,23)),Promise.resolve().then(n.t.bind(n,8519,23)),Promise.resolve().then(n.t.bind(n,7174,23)),Promise.resolve().then(n.t.bind(n,8165,23)),Promise.resolve().then(n.t.bind(n,2752,23)),Promise.resolve().then(n.t.bind(n,1790,23))},9608:(e,t,n)=>{Promise.resolve().then(n.bind(n,7153))},9334:()=>{},7153:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var l=n(1209),r=n(1930);function i({value:e,onChange:t,placeholder:n="Type here…",minHeight:i=200,maxHeight:o=500,readOnly:s=!1}){let a=(0,r.useRef)(null),d=(0,r.useRef)(""),c=(0,r.useRef)(!1),p=(0,r.useRef)(null),[u,h]=(0,r.useState)(null),[m,f]=(0,r.useState)(null),x=(0,r.useRef)(null),[g,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(3),[w,j]=(0,r.useState)(3),[C,k]=(0,r.useState)(null),S=(0,r.useRef)(null),A=(0,r.useRef)(null),T=(e,n)=>{try{document.execCommand(e,!1,n);let l=a.current;if(l&&t){let e=l.innerHTML;e!==d.current&&(d.current=e,t(e))}}catch{}},M=e=>{T("formatBlock",e)},R=()=>{if(!u){f(null);return}try{let e=u.getBoundingClientRect();f({left:e.left,top:e.top,width:e.width,height:e.height})}catch{f(null)}},E=e=>{try{let t=a.current;if(!t)return;t.focus();let n=window.getSelection(),l=n&&n.rangeCount>0?n.getRangeAt(0):null;l&&t.contains(l.commonAncestorContainer)||((l=document.createRange()).selectNodeContents(t),l.collapse(!1),n=window.getSelection(),n?.removeAllRanges(),n?.addRange(l));let r=document.createElement("img");r.src=e,r.style.maxWidth="100%",r.style.height="auto",r.style.display="inline-block",r.alt="image",l?l.insertNode(r):t.appendChild(r);let i=document.createRange();i.setStartAfter(r),i.collapse(!0);let o=window.getSelection();o?.removeAllRanges(),o?.addRange(i),h(r),R(),H()}catch{}},L=async e=>{for(let t of Array.from(e).filter(e=>e.type.startsWith("image/")))await new Promise(e=>{let n=new FileReader;n.onload=()=>{let t=String(n.result||"");t&&E(t),e()},n.onerror=()=>e(),n.readAsDataURL(t)})},H=()=>{if(c.current)return;let e=a.current;if(!e||!t)return;let n=e.innerHTML;n!==d.current&&(d.current=n,t(n))},D=(e,t)=>{let n=Math.max(1,Math.min(50,Math.floor(e)||1)),l=Math.max(1,Math.min(20,Math.floor(t)||1)),r='<table style="border-collapse:collapse;width:100%;"><tbody>';for(let e=0;e<n;e++){r+="<tr>";for(let e=0;e<l;e++)r+='<td style="border:1px solid #ddd;padding:6px;min-width:60px;">&nbsp;</td>';r+="</tr>"}return r+"</tbody></table>"},I=()=>{try{let e=a.current;if(!e)return;e.focus();let t=window.getSelection(),n=t&&t.rangeCount>0?t.getRangeAt(0):null;n&&e.contains(n.commonAncestorContainer)||((n=document.createRange()).selectNodeContents(e),n.collapse(!1),t=window.getSelection(),t?.removeAllRanges(),t?.addRange(n));let l=D(b,w),r=document.createElement("div");r.innerHTML=l;let i=r.firstChild;if(!i||!n)return;n.insertNode(i);let o=i.querySelector("td,th");o&&W(o,!1),H()}catch{}},P=e=>{let t=e;for(;t&&t!==a.current;){if("TD"===t.nodeName||"TH"===t.nodeName)return t;t=t.parentElement}return null},W=(e,t)=>{try{let n=document.createRange();if(!e.firstChild){let t=document.createTextNode("\xa0");e.appendChild(t)}let l=e.firstChild,r=(l.textContent||"").length;n.setStart(l,t?r:0),n.collapse(!0);let i=window.getSelection();i?.removeAllRanges(),i?.addRange(n)}catch{}},z=e=>{let t=e.parentElement,n=t?.parentElement,l=n?.parentElement;if(!t||!n||!l)return null;let r=Array.from(n.querySelectorAll("tr")).indexOf(t),i=Array.from(t.children).filter(e=>["TD","TH"].includes(e.tagName)).indexOf(e);return{row:t,tbody:n,table:l,rIdx:r,cIdx:i}},_=e=>Array.from(e.children).filter(e=>["TD","TH"].includes(e.tagName)),q=()=>{let e=S.current;if(!e)return;let{tbody:t,sr:n,sc:l,er:r,ec:i}=e,o=Array.from(t.querySelectorAll("tr"));for(let e=n;e<=r;e++){let t=_(o[e]);for(let e=l;e<=i;e++){let n=t[e];n&&(null!=n.__rtePrevBg&&(n.style.background=n.__rtePrevBg,delete n.__rtePrevBg),n.style.outline="",n.style.outlineOffset="")}}S.current=null},N=(e,t,n,l,r)=>{q(),S.current={tbody:e,sr:t,sc:n,er:l,ec:r};let i=Array.from(e.querySelectorAll("tr"));for(let e=t;e<=l;e++){let t=_(i[e]);for(let e=n;e<=r;e++){let n=t[e];n&&(n.__rtePrevBg=n.style.background||"",n.style.background="rgba(30,144,255,0.15)",n.style.outline="2px solid #1e90ff",n.style.outlineOffset="-2px")}}},B=()=>{let e=S.current;return!!e&&(e.sr!==e.er||e.sc!==e.ec)},X=()=>{let e=S.current;if(!e)return;let{tbody:t,sr:n,sc:l,er:r,ec:i}=e,o=Array.from(t.querySelectorAll("tr")),s=_(o[n])[l];if(!s)return;let a=[];for(let e=n;e<=r;e++){let t=_(o[e]);for(let r=l;r<=i;r++){let i=t[r];if(!i||e===n&&r===l)continue;let o=i.innerHTML.trim();o&&a.push(o)}}a.length&&(s.innerHTML=(s.innerHTML||"")+" "+a.join(" ")),s.colSpan=i-l+1,s.rowSpan=r-n+1;for(let e=n;e<=r;e++){let t=_(o[e]);for(let r=i;r>=l;r--){let i=t[r];i&&(e!==n||r!==l)&&i.remove()}}W(s,!1),q(),H()},F=(e,t)=>{let n=z(e);if(!n)return;let{row:l,tbody:r,rIdx:i}=n,o=document.createElement("tr"),s=Array.from(l.children).filter(e=>["TD","TH"].includes(e.tagName)).length;for(let e=0;e<s;e++){let e=document.createElement("td");e.style.border="1px solid #ddd",e.style.padding="6px",e.style.minWidth="60px",e.innerHTML="&nbsp;",o.appendChild(e)}let a=r.children["above"===t?i:i+1]||null;r.insertBefore(o,a)},O=e=>{let t=z(e);if(!t)return;let{row:n,tbody:l,table:r}=t;l.removeChild(n),0===l.querySelectorAll("tr").length&&r.parentElement?.removeChild(r)},U=(e,t)=>{let n=z(e);if(!n)return;let{tbody:l,cIdx:r}=n,i=Array.from(l.querySelectorAll("tr")),o="left"===t?r:r+1;for(let e of i){let t=Array.from(e.children).filter(e=>["TD","TH"].includes(e.tagName)),n=document.createElement("td");n.style.border="1px solid #ddd",n.style.padding="6px",n.style.minWidth="60px",n.innerHTML="&nbsp;";let l=t[o]||null;l?e.insertBefore(n,l):e.appendChild(n)}},Y=e=>{let t=z(e);if(!t)return;let{tbody:n,table:l,cIdx:r}=t;for(let e of Array.from(n.querySelectorAll("tr"))){let t=Array.from(e.children).filter(e=>["TD","TH"].includes(e.tagName))[r];t&&e.removeChild(t)}l.querySelector("td,th")||l.parentElement?.removeChild(l)},$=e=>{let t="TH"===e.tagName,n=document.createElement(t?"td":"th");n.innerHTML=e.innerHTML||"&nbsp;",n.style.border=e.style.border||"1px solid #ddd",n.style.padding=e.style.padding||"6px",n.style.minWidth=e.style.minWidth||"60px",e.parentElement?.replaceChild(n,e)},G=e=>{let t=z(e);if(!t)return;let{table:n}=t;n.parentElement?.removeChild(n)},K=e=>{let t=z(e);if(!t)return;let{tbody:n,rIdx:l,cIdx:r}=t,i=Math.max(1,e.rowSpan||1),o=Math.max(1,e.colSpan||1);if(1===i&&1===o)return;e.rowSpan=1,e.colSpan=1;let s=Array.from(n.querySelectorAll("tr"))[l];for(let e=1;e<o;e++){let t=document.createElement("td");t.style.border="1px solid #ddd",t.style.padding="6px",t.style.minWidth="60px",t.innerHTML="&nbsp;";let n=_(s)[r+e]||null;s.insertBefore(t,n)}for(let e=1;e<i;e++){let t=Array.from(n.querySelectorAll("tr"))[l+e];for(let e=0;e<o;e++){let n=document.createElement("td");n.style.border="1px solid #ddd",n.style.padding="6px",n.style.minWidth="60px",n.innerHTML="&nbsp;";let l=_(t)[r+e]||null;t.insertBefore(n,l)}}H()},V=e=>{let t=z(e);if(!t)return;let{tbody:n}=t,l=n.querySelector("tr");if(!l)return;let r=_(l),i=r.some(e=>"TH"!==e.tagName);for(let e of r){let t="TH"===e.tagName;if(i&&!t){let t=document.createElement("th");t.innerHTML=e.innerHTML||"&nbsp;",t.style.border=e.style.border||"1px solid #ddd",t.style.padding=e.style.padding||"6px",t.style.minWidth=e.style.minWidth||"60px",l.replaceChild(t,e)}else if(!i&&t){let t=document.createElement("td");t.innerHTML=e.innerHTML||"&nbsp;",t.style.border=e.style.border||"1px solid #ddd",t.style.padding=e.style.padding||"6px",t.style.minWidth=e.style.minWidth||"60px",l.replaceChild(t,e)}}},J=(e,t)=>{let n=S.current;if(n){let t=Array.from(n.tbody.querySelectorAll("tr"));for(let l=n.sr;l<=n.er;l++){let r=_(t[l]);for(let t=n.sc;t<=n.ec;t++){let n=r[t];n&&(n.style.background=e)}}}else t&&(t.style.background=e)},Q=e=>{let t=e=>{let t=e.style.border;e.style.border=t&&"none"!==t?"none":"1px solid #000"},n=S.current;if(n){let e=Array.from(n.tbody.querySelectorAll("tr"));for(let l=n.sr;l<=n.er;l++){let r=_(e[l]);for(let e=n.sc;e<=n.ec;e++){let n=r[e];n&&t(n)}}}else e&&t(e)};return(0,l.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:6},children:[(0,l.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,padding:8,borderBottom:"1px solid #eee",background:"#fafafa",position:"sticky",top:0,zIndex:1},children:[l.jsx("input",{ref:p,type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:e=>{e.currentTarget.files&&L(e.currentTarget.files),e.currentTarget.value=""}}),(0,l.jsxs)("select",{defaultValue:"p",onChange:e=>{let t=e.target.value;"p"===t?M("<p>"):"h1"===t?M("<h1>"):"h2"===t?M("<h2>"):"h3"===t&&M("<h3>")},title:"Paragraph/Heading",children:[l.jsx("option",{value:"p",children:"Paragraph"}),l.jsx("option",{value:"h1",children:"Heading 1"}),l.jsx("option",{value:"h2",children:"Heading 2"}),l.jsx("option",{value:"h3",children:"Heading 3"})]}),l.jsx("button",{onClick:()=>T("bold"),children:"B"}),l.jsx("button",{onClick:()=>T("italic"),children:"I"}),l.jsx("button",{onClick:()=>T("underline"),children:"U"}),l.jsx("button",{onClick:()=>T("strikeThrough"),children:"S"}),l.jsx("button",{onClick:()=>T("insertUnorderedList"),children:"• List"}),l.jsx("button",{onClick:()=>T("insertOrderedList"),children:"1. List"}),l.jsx("button",{onClick:()=>T("formatBlock","<blockquote>"),children:"❝"}),l.jsx("button",{onClick:()=>T("formatBlock","<pre>"),children:"< />"}),l.jsx("button",{title:"Formula",onClick:()=>{let e=window.prompt("Enter LaTeX (e.g., E=mc^2)","E=mc^2")||"";if(e)try{let t=a.current;if(!t)return;t.focus();let n=window.getSelection(),l=n&&n.rangeCount>0?n.getRangeAt(0):null;l&&t.contains(l.commonAncestorContainer)||((l=document.createRange()).selectNodeContents(t),l.collapse(!1),n=window.getSelection(),n?.removeAllRanges(),n?.addRange(l));let r=document.createElement("span");r.setAttribute("data-formula",e);try{let t=window.katex;t&&"function"==typeof t.render?t.render(e,r,{throwOnError:!1}):r.textContent=`$${e}$`}catch{r.textContent=`$${e}$`}l?l.insertNode(r):t.appendChild(r);let i=document.createRange();i.setStartAfter(r),i.collapse(!0);let o=window.getSelection();o?.removeAllRanges(),o?.addRange(i),H()}catch{}},children:"∑"}),l.jsx("button",{onClick:()=>{let e=window.prompt("Enter URL","https://");e&&T("createLink",e)},children:"Link"}),l.jsx("button",{onClick:()=>T("unlink"),children:"Unlink"}),l.jsx("button",{onClick:()=>{p.current?.click()},children:"Image"}),(0,l.jsxs)("div",{style:{display:"inline-flex",gap:4,alignItems:"center",marginLeft:6},children:[l.jsx("span",{style:{fontSize:12,opacity:.7},children:"Image align:"}),l.jsx("button",{onClick:()=>{u&&(u.style.display="block",u.style.margin="0 auto",u.style.float="none",R(),H())},title:"Center",children:"⊙"}),l.jsx("button",{onClick:()=>{u&&(u.style.display="inline",u.style.float="left",u.style.margin="0 8px 8px 0",R(),H())},title:"Float left",children:"⟸"}),l.jsx("button",{onClick:()=>{u&&(u.style.display="inline",u.style.float="right",u.style.margin="0 0 8px 8px",R(),H())},title:"Float right",children:"⟹"})]}),l.jsx("button",{onClick:()=>y(!0),children:"+ Table"}),l.jsx("button",{onClick:()=>T("undo"),children:"Undo"}),l.jsx("button",{onClick:()=>T("redo"),children:"Redo"})]}),g&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:()=>y(!1),children:(0,l.jsxs)("div",{style:{background:"#fff",padding:16,borderRadius:8,minWidth:280},onClick:e=>e.stopPropagation(),children:[l.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Insert table"}),(0,l.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 18px)",gap:2,padding:6,border:"1px solid #eee"},children:Array.from({length:100}).map((e,t)=>{let n=Math.floor(t/10)+1,r=t%10+1,i=n<=b&&r<=w;return l.jsx("div",{onMouseEnter:()=>{v(n),j(r)},onClick:()=>{I(),y(!1)},style:{width:16,height:16,border:"1px solid #ccc",background:i?"#1e90ff":"#fff"}},t)})}),(0,l.jsxs)("div",{style:{fontSize:12,minWidth:48},children:[b," \xd7 ",w]})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"end",marginTop:12},children:[l.jsx("button",{onClick:()=>y(!1),children:"Cancel"}),l.jsx("button",{onClick:()=>{I(),y(!1)},children:"Insert"})]})]})}),l.jsx("div",{ref:a,contentEditable:!s,suppressContentEditableWarning:!0,onInput:H,onCompositionStart:()=>c.current=!0,onCompositionEnd:()=>{c.current=!1,H()},onPaste:e=>{let t=e.clipboardData?.files;t&&t.length&&Array.from(t).some(e=>e.type.startsWith("image/"))&&(e.preventDefault(),L(t))},onDragOver:e=>{e.dataTransfer?.types?.includes("Files")&&e.preventDefault()},onDrop:e=>{if(e.dataTransfer?.files?.length){e.preventDefault();let t=e.clientX,n=e.clientY,l=null;if(document.caretRangeFromPoint)l=document.caretRangeFromPoint(t,n);else if(document.caretPositionFromPoint){let e=document.caretPositionFromPoint(t,n);e&&(l=document.createRange()).setStart(e.offsetNode,e.offset)}if(l){let e=window.getSelection();e?.removeAllRanges(),e?.addRange(l)}L(e.dataTransfer.files)}},onClick:e=>{let t=e.target;t&&"IMG"===t.tagName?(h(t),R()):(h(null),f(null))},style:{padding:12,minHeight:"number"==typeof i?`${i}px`:i,maxHeight:"number"==typeof o?`${o}px`:o,overflowY:"auto",outline:"none",lineHeight:1.6},"data-placeholder":n,onFocus:e=>{let t=e.currentTarget;t.innerHTML&&"<br>"!==t.innerHTML||(t.innerHTML="<p><br></p>")},onKeyDown:e=>{if("Tab"===e.key&&(e.preventDefault(),document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList")?T(e.shiftKey?"outdent":"indent"):document.execCommand("insertText",!1,"  ")),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){let t=window.getSelection(),n=P(t?.anchorNode||null);if(n&&n.parentElement&&n.parentElement.parentElement){let l=n.parentElement,r=l.parentElement,i=Array.from(l.children).filter(e=>"TD"===e.tagName||"TH"===e.tagName),o=Array.from(r.children),s=o.indexOf(l),a=i.indexOf(n),d=0===(t?.anchorOffset||0),c=(n.textContent||"").length,p=(t?.anchorOffset||0)>=c,u=null;"ArrowLeft"===e.key&&d&&a>0?u=l.children[a-1]:"ArrowRight"===e.key&&p&&a<l.children.length-1?u=l.children[a+1]:"ArrowUp"===e.key&&s>0&&d?u=o[s-1].children[a]:"ArrowDown"===e.key&&s<o.length-1&&p&&(u=o[s+1].children[a]),u&&(e.preventDefault(),W(u,"ArrowRight"===e.key||"ArrowDown"===e.key))}}},onMouseDown:e=>{let t=P(e.target);if(!t){q();return}let n=z(t);if(!n)return;A.current={tbody:n.tbody,start:t};let l=e=>{let t=P(document.elementFromPoint(e.clientX,e.clientY)),n=A.current;if(!t||!n)return;let l=z(n.start),r=z(t);if(!l||!r||l.tbody!==r.tbody)return;let i=Math.min(l.rIdx,r.rIdx),o=Math.min(l.cIdx,r.cIdx),s=Math.max(l.rIdx,r.rIdx),a=Math.max(l.cIdx,r.cIdx);N(l.tbody,i,o,s,a)},r=()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",r),A.current=null};window.addEventListener("mousemove",l),window.addEventListener("mouseup",r)},onContextMenu:e=>{let t=P(e.target);if(t){e.preventDefault();let n=window.innerWidth,l=window.innerHeight;k({x:Math.max(8,Math.min(e.clientX,n-220-8)),y:Math.max(8,Math.min(e.clientY,l-300-8)),cell:t})}else k(null)},dangerouslySetInnerHTML:{__html:e||""}}),u&&m&&(0,l.jsxs)("div",{style:{position:"fixed",left:m.left,top:m.top,width:m.width,height:m.height,pointerEvents:"none",zIndex:55},children:[l.jsx("div",{style:{position:"absolute",inset:0,outline:"2px solid #1e90ff",outlineOffset:-2}}),l.jsx("div",{title:"Resize",onMouseDown:e=>{if(e.preventDefault(),!u)return;x.current={side:"left",startX:e.clientX,startWidth:u.getBoundingClientRect().width};let t=e=>{let t=x.current;if(!t||!u)return;let n=t.startX-e.clientX,l=Math.max(80,Math.round(t.startWidth+n));u.style.width=l+"px",u.style.height="auto",R()},n=()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n),x.current=null,H()};window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)},style:{position:"absolute",left:-6,top:"50%",transform:"translateY(-50%)",width:8,height:24,background:"#1e90ff",borderRadius:2,cursor:"ew-resize",pointerEvents:"auto"}}),l.jsx("div",{title:"Resize",onMouseDown:e=>{if(e.preventDefault(),!u)return;x.current={side:"right",startX:e.clientX,startWidth:u.getBoundingClientRect().width};let t=e=>{let t=x.current;if(!t||!u)return;let n=e.clientX-t.startX,l=Math.max(80,Math.round(t.startWidth+n));u.style.width=l+"px",u.style.height="auto",R()},n=()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n),x.current=null,H()};window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)},style:{position:"absolute",right:-6,top:"50%",transform:"translateY(-50%)",width:8,height:24,background:"#1e90ff",borderRadius:2,cursor:"ew-resize",pointerEvents:"auto"}})]}),C&&l.jsx("div",{style:{position:"fixed",inset:0,zIndex:60},onClick:()=>k(null),onContextMenu:e=>{e.preventDefault();let t=window.innerWidth,n=window.innerHeight,l=Math.max(8,Math.min(e.clientX,t-220-8)),r=Math.max(8,Math.min(e.clientY,n-300-8)),i=e.currentTarget,o=i.style.display;i.style.display="none";let s=document.elementFromPoint(e.clientX,e.clientY);i.style.display=o;let a=P(s);a&&k({x:l,y:r,cell:a})},children:(0,l.jsxs)("div",{style:{position:"fixed",left:C.x,top:C.y,background:"#fff",border:"1px solid #ddd",borderRadius:8,boxShadow:"0 8px 24px rgba(0,0,0,0.18)",padding:6,width:200,maxHeight:260,overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[l.jsx("div",{style:{fontWeight:600,fontSize:11,margin:"2px 6px 6px"},children:"Table"}),(0,l.jsxs)("div",{style:{display:"grid",gap:4},children:[(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>y(!0),children:[l.jsx("span",{children:"➕"}),l.jsx("span",{children:"Insert table…"})]}),l.jsx("hr",{style:{margin:"4px 0"}}),(0,l.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",padding:"4px 6px",fontSize:12},children:[l.jsx("span",{children:"Fill:"}),l.jsx("input",{type:"color",defaultValue:"#ffffff",onChange:e=>{J(e.target.value,C.cell),k(null)},style:{width:28,height:18,padding:0,border:"none",background:"transparent"}})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{Q(C.cell),k(null)},children:[l.jsx("span",{children:"▦"}),l.jsx("span",{children:"Toggle border"})]}),l.jsx("hr",{style:{margin:"4px 0"}}),(0,l.jsxs)("button",{disabled:!B(),style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12,opacity:B()?1:.5,cursor:B()?"pointer":"default"},onClick:()=>{X(),k(null)},children:[l.jsx("span",{children:"⇄"}),l.jsx("span",{children:"Merge cells"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{K(C.cell),k(null)},children:[l.jsx("span",{children:"⤢"}),l.jsx("span",{children:"Split cell"})]}),l.jsx("hr",{style:{margin:"4px 0"}}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{F(C.cell,"above"),k(null)},children:[l.jsx("span",{children:"↥"}),l.jsx("span",{children:"Row above"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{F(C.cell,"below"),k(null)},children:[l.jsx("span",{children:"↧"}),l.jsx("span",{children:"Row below"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{U(C.cell,"left"),k(null)},children:[l.jsx("span",{children:"←"}),l.jsx("span",{children:"Column left"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{U(C.cell,"right"),k(null)},children:[l.jsx("span",{children:"→"}),l.jsx("span",{children:"Column right"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{O(C.cell),k(null)},children:[l.jsx("span",{children:"✖"}),l.jsx("span",{children:"Delete row"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{Y(C.cell),k(null)},children:[l.jsx("span",{children:"✖"}),l.jsx("span",{children:"Delete column"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{$(C.cell),k(null)},children:[l.jsx("span",{children:"H"}),l.jsx("span",{children:"Toggle header"})]}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{V(C.cell),k(null)},children:[l.jsx("span",{children:"H₁"}),l.jsx("span",{children:"Toggle header row"})]}),l.jsx("hr",{style:{margin:"4px 0"}}),(0,l.jsxs)("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",fontSize:12},onClick:()=>{G(C.cell),k(null)},children:[l.jsx("span",{children:"\uD83D\uDDD1"}),l.jsx("span",{children:"Delete table"})]})]})]})})]})}function o(){let[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)(null);return e?(0,l.jsxs)("div",{children:[l.jsx("h1",{children:"SmartRTE Demo"}),l.jsx(i,{})]}):l.jsx("div",{children:"Loading WASM…"})}},5661:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,metadata:()=>r});var l=n(247);let r={title:"SmartRTE Demo"};function i({children:e}){return(0,l.jsxs)("html",{lang:"en",children:[(0,l.jsxs)("head",{children:[l.jsx("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"}),l.jsx("script",{defer:!0,src:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"})]}),l.jsx("body",{style:{margin:20,fontFamily:"Inter, system-ui, sans-serif"},children:e})]})}},9249:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});let l=(0,n(6487).createProxy)(String.raw`/Users/apple/Developer/smart-rte/packages/demo-next/src/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),l=t.X(0,[336,972],()=>n(7420));module.exports=l})();